import streamlit as st
import importlib.util

st.set_page_config(page_title="родрпКро▓рпНроХро╛рокрпНрокро┐", page_icon="ЁЯУЬ")

st.title("ЁЯУЬ родрпКро▓рпНроХро╛рокрпНрокро┐ (Tolkapy)")
st.subheader("родрооро┐ро┤рпН роЗро▓роХрпНроХрог ро╡ро┐родро┐ роЪро░ро┐рокро╛ро░рпНрокрпНрокро╛ройрпН")

# роирпВро▓роХроорпН роЪро░ро┐ропро╛роХ роиро┐ро▒рпБро╡рокрпНрокроЯрпНроЯрпБро│рпНро│родро╛ роОройроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХрпБроорпН рокроХрпБродро┐
package_name = 'tolkapy'
spec = importlib.util.find_spec(package_name)

if spec is None:
    st.error(f"тЭМ '{package_name}' роирпВро▓роХроорпН роЗройрпНройрпБроорпН роиро┐ро▒рпБро╡рокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ.")
    st.info("роЙроЩрпНроХро│рпН requirements.txt роХрпЛрокрпНрокро┐ро▓рпН tolkapy роОройрпНро▒рпБ роЗро░рпБрокрпНрокродрпИ роЙро▒рпБродро┐ роЪрпЖропрпНропро╡рпБроорпН.")
    st.code("requirements.txt роХрпЛрокрпНрокро┐ро▓рпН роЗро░рпБроХрпНроХ ро╡рпЗрогрпНроЯро┐ропродрпБ:\nstreamlit\ntolkapy")
else:
    st.success(f"тЬЕ '{package_name}' роирпВро▓роХроорпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роЗрогрпИроирпНродрпБро│рпНро│родрпБ!")
    
    import tolkapy
    from tolkapy import vidhikal # роЕро▓рпНро▓родрпБ роирпВро▓роХродрпНродро┐ройрпН роирпЗро░роЯро┐ роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпН

    word = st.text_input("родрооро┐ро┤рпН роЪрпКро▓рпНро▓рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН:", placeholder="роО.роХро╛: родрооро┐ро┤рпН")

    if st.button("роЪро░ро┐рокро╛ро░рпН"):
        if word:
            # роирпВро▓роХродрпНродро┐ройрпН родро▒рпНрокрпЛродрпИроп роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐роЪрпН роЪро░ро┐рокро╛ро░рпНродрпНродро▓рпН
            try:
                # роОро┤рпБродрпНродрпБ ро╡ро┐родро┐роХро│ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роТро░рпБ рооро╛родро┐ро░ро┐роЪрпН роЪрпЛродройрпИ
                check = vidhikal.tamil_word_checker(word) 
                st.write(f"роорпБроЯро┐ро╡рпБ: {check}")
            except Exception as e:
                st.warning("ро╡ро┐родро┐роорпБро▒рпИроХро│рпИроЪрпН роЪрпЛродро┐рокрпНрокродро┐ро▓рпН роТро░рпБ роЪро┐ро▒ро┐роп роЪро┐роХрпНроХро▓рпН.")
                st.write("родро╡ро▒рпБ:", e)
        else:
            st.info("роЪрпКро▓рпНро▓рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН.")

st.markdown("---")
st.caption("родрпКро▓рпНроХро╛рокрпНрокро┐роп ро╡ро┐родро┐роХро│рпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпН роХрпКрогрпНроЯ роТро░рпБ роХрпВроЯрпНроЯрпБ роорпБропро▒рпНроЪро┐.")
