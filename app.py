import streamlit as st
import tamilrulepy
from tamilrulepy import vidhikal

# 1. рокроХрпНроХ ро╡роЯро┐ро╡роорпИрокрпНрокрпБ
st.set_page_config(page_title="родрпКро▓рпНроХро╛рокрпНрокро┐ роЖропрпНро╡рпБ", layout="wide")
st.title("ЁЯУЬ Tolkapy (родрпКро▓рпНроХро╛рокрпНрокро┐)")

# 2. роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпИроЪрпН роЪро░ро┐рокро╛ро░рпНродрпНродро▓рпН (Debugging)
# st.write(dir(vidhikal)) # родрпЗро╡рпИрокрпНрокроЯрпНроЯро╛ро▓рпН роЗродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐роЪрпН роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХро▓ро╛роорпН

tab1, tab2, tab3, tab4 = st.tabs(["роорпЖропрпНроорпНрооропроХрпНроХроорпН", "роорпКро┤ро┐роорпБродро▓рпН", "роорпКро┤ро┐ропро┐ро▒рпБродро┐", "рокрпБрогро░рпНроЪрпНроЪро┐"])

# --- TAB 1: роорпЖропрпНроорпНрооропроХрпНроХроорпН (роЪро┐роХрпНроХро▓рпН 1 родрпАро░рпНро╡рпБ) ---
with tab1:
    st.header("роорпЖропрпНроорпНрооропроХрпНроХроорпН роЖропрпНро╡рпБ")
    word_m = st.text_input("роЪрпКро▓рпНро▓рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН:", key="m1", placeholder="роО.роХро╛: родроЩрпНроХроорпН")
    if st.button("роЖро░ро╛ропрпНроХ", key="b1"):
        if word_m:
            # роирпЗро░роЯро┐ропро╛роХ vidhikal родрпКроХрпБродро┐ропро┐ро▓рпН роЙро│рпНро│ meymayakkam_checker-роР роЕро┤рпИроХрпНроХро┐ро▒рпЛроорпН
            res = vidhikal.meymayakkam_checker(word_m)
            st.success(f"роЖропрпНро╡рпБ роорпБроЯро┐ро╡рпБ: {res}")
        else:
            st.info("роЪрпКро▓рпНро▓рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН.")

# --- TAB 2: роорпКро┤ро┐роорпБродро▓рпН (роЪро┐роХрпНроХро▓рпН 2 родрпАро░рпНро╡рпБ) ---
with tab2:
    st.header("роорпКро┤ро┐роорпБродро▓рпН роЖропрпНро╡рпБ")
    word_f = st.text_input("роЪрпКро▓рпНро▓рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН:", key="f1", placeholder="роО.роХро╛: роХро▒рпНро▒ро▓рпН")
    if st.button("роЪро░ро┐рокро╛ро░рпН", key="b2"):
        if word_f:
            # роЪро░ро┐ропро╛рой роЪро╛ро░рпНрокрпБ рокрпЖропро░рпН: mozhi_muthal_checker
            res = vidhikal.mozhi_muthal_checker(word_f)
            st.info(f"роЖропрпНро╡рпБ роорпБроЯро┐ро╡рпБ: {res}")
        else:
            st.info("роЪрпКро▓рпНро▓рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН.")

# --- TAB 3: роорпКро┤ро┐ропро┐ро▒рпБродро┐ (роЪро┐роХрпНроХро▓рпН 3 родрпАро░рпНро╡рпБ) ---
with tab3:
    st.header("роорпКро┤ро┐ропро┐ро▒рпБродро┐ роЖропрпНро╡рпБ")
    word_e = st.text_input("роЪрпКро▓рпНро▓рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН:", key="e1", placeholder="роО.роХро╛: роиро┐ро▓ройрпН")
    if st.button("роЪро░ро┐рокро╛ро░рпН", key="b3"):
        if word_e:
            # роЪро░ро┐ропро╛рой роЪро╛ро░рпНрокрпБ рокрпЖропро░рпН: mozhi_iruthi_checker
            res = vidhikal.mozhi_iruthi_checker(word_e)
            st.info(f"роЖропрпНро╡рпБ роорпБроЯро┐ро╡рпБ: {res}")
        else:
            st.info("роЪрпКро▓рпНро▓рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН.")

# --- TAB 4: рокрпБрогро░рпНроЪрпНроЪро┐ (роЪро┐роХрпНроХро▓рпН 4 родрпАро░рпНро╡рпБ) ---
with tab4:
    st.header("рокрпБрогро░рпНроЪрпНроЪро┐ роЖропрпНро╡рпБ")
    c1, c2 = st.columns(2)
    with c1: n_mozhi = st.text_input("роиро┐ро▓рпИроорпКро┤ро┐:", key="n1", placeholder="роЕрокрпНрокро╛")
    with c2: v_mozhi = st.text_input("ро╡ро░рпБроорпКро┤ро┐:", key="v1", placeholder="роЗройрпН")
    
    if st.button("рокрпБрогро░рпНроХрпНроХ", key="b4"):
        if n_mozhi and v_mozhi:
            # рокрпБрогро░рпНроЪрпНроЪро┐ ро╡ро┐родро┐ роирпВро▓роХродрпНродро┐ро▓рпН punarchi_checker роОройрпНро▒ рокрпЖропро░ро┐ро▓рпН роЗро░рпБроХрпНроХро▓ро╛роорпН
            if hasattr(vidhikal, 'punarchi_checker'):
                res = vidhikal.punarchi_checker(n_mozhi, v_mozhi)
                st.success(f"рокрпБрогро░рпНроЪрпНроЪро┐ роорпБроЯро┐ро╡рпБ: {res}")
            else:
                # рооро╛ро▒рпНро▒рпБ ро╡ро┤ро┐: роирпВро▓роХродрпНродро┐ро▓рпН роЙро│рпНро│ рокрпКродрпБро╡ро╛рой роЪрпЖроХрпНроХро░рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБродро▓рпН
                st.code(f"{n_mozhi} + {v_mozhi}")
                st.write("родроХро╡ро▓рпН: роЗроирпНрод роирпВро▓роХрокрпН рокродро┐рокрпНрокро┐ро▓рпН рокрпБрогро░рпНроЪрпНроЪро┐ ро╡ро┐родро┐роХро│рпН роЗройрпНройрпБроорпН роорпБро┤рпБроорпИропро╛роХ роЗрогрпИроХрпНроХрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ.")
        else:
            st.info("роиро┐ро▓рпИроорпКро┤ро┐ рооро▒рпНро▒рпБроорпН ро╡ро░рпБроорпКро┤ро┐ропрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН.")

st.divider()
st.caption("роорпБройрпИро╡ро░рпН роЪродрпНродро┐ропро░ро╛роЪрпБ родроЩрпНроХроЪрпНроЪро╛рооро┐ & роХрогро┐ропроорпН роХрпБро┤рпБро╡ро┐ройро░рпН ")
