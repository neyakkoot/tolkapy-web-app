import streamlit as st
import subprocess
import sys

st.title("ЁЯУЬ родрпКро▓рпНроХро╛рокрпНрокро┐ (Tolkapy) - рокро┐ро┤рпИ роирпАроХрпНроХро▓рпН")

# роиро┐ро▒рпБро╡рокрпНрокроЯрпНроЯ роирпВро▓роХроЩрпНроХро│рпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХ
st.write("роирпВро▓роХроЩрпНроХро│рпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро┐ро▒родрпБ...")

try:
    # 1. роорпБродро▓ро┐ро▓рпН tolkapy роР роЗро▒роХрпНроХ роорпБропро▒рпНроЪро┐рокрпНрокрпЛроорпН
    import tolkapy
    st.success("tolkapy роирпВро▓роХроорпН роХро┐роЯрпИродрпНродрпБро╡ро┐роЯрпНроЯродрпБ!")
    
    # роЕродройрпН роЙро│рпНро│рпЗ роЗро░рпБроХрпНроХрпБроорпН родрпКроХрпБродро┐роХро│рпИроХрпН роХро╛роЯрпНроЯ
    st.write("роЙро│рпНро│рпЗ роЗро░рпБроХрпНроХрпБроорпН родрпКроХрпБродро┐роХро│рпН:", dir(tolkapy))
    
    # 2. vidhikal родрпКроХрпБродро┐ропрпИ роЗро▒роХрпНроХ роорпБропро▒рпНроЪро┐рокрпНрокрпЛроорпН
    try:
        from tolkapy import vidhikal
        st.success("vidhikal родрпКроХрпБродро┐ роХро┐роЯрпИродрпНродрпБро╡ро┐роЯрпНроЯродрпБ!")
    except ImportError:
        st.error("tolkapy роЙро│рпНро│родрпБ, роЖройро╛ро▓рпН vidhikal родрпКроХрпБродро┐ роЗро▓рпНро▓рпИ. ро╡рпЗро▒рпБ рокрпЖропро░рпН роЗро░рпБроХрпНроХро▓ро╛роорпН.")

except ImportError:
    st.error("tolkapy роирпВро▓роХроорпЗ роЗройрпНройрпБроорпН роХро┐роЯрпИроХрпНроХро╡ро┐ро▓рпНро▓рпИ.")
    # роирпВро▓роХроорпН роиро┐ро▒рпБро╡рокрпНрокроЯрпНроЯрпБро│рпНро│родро╛ роОрой роЯрпЖро░рпНрооро┐ройро▓рпН роорпВро▓роорпН роЪро░ро┐рокро╛ро░рпНроХрпНроХ
    result = subprocess.run([sys.executable, "-m", "pip", "show", "tolkapy"], capture_output=True, text=True)
    st.code(result.stdout if result.stdout else "роирпВро▓роХроорпН роиро┐ро▒рпБро╡рокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ (Pip show returned nothing)")

st.info("роХрпБро▒ро┐рокрпНрокрпБ: роЗродрпБ роТро░рпБ рокро┐ро┤рпИ роирпАроХрпНроХро▓рпН рокроХрпНроХроорпН. роирпВро▓роХроорпН роЪро░ро┐ропро╛роХродрпН родрпЖро░ро┐роирпНродродрпБроорпН роЙроЩрпНроХро│рпН рокро┤рпИроп роиро┐ро░ро▓рпИ рооро╛ро▒рпНро▒ро┐роХрпНроХрпКро│рпНро│ро▓ро╛роорпН.")
